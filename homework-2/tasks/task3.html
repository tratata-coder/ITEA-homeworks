<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>ITEA-JS ADVANCED - LESSON 2: TASK 3</title>
	<link rel="stylesheet" href="css/style.min.css" />
</head>
<body>
	<div class="buttons" id="target">
		<button class="popup__button" id="popup_1" data-popup="1"> Show popup 1</button>
		<button class="popup__button" id="popup_2" data-popup="2"> Show popup 2</button>
		<button class="popup__button" id="popup_3" data-popup="3"> Show popup 3</button>
	</div>

	<div class="popup show" id="popup">
		<div class="popup__body">
		<button class="popup__close" id="popup__close">Close popup</button>
		<div class="popup__container" id="popup__container">
			<div class="popup__item" data-popup="1"><h2>I'm first popup</h2></div>
			<div class="popup__item" data-popup="2"><h2>I'm second popup</h2></div>
			<div class="popup__item show" data-popup="3"><h2>I'm third popup</h2></div>
		</div>
		</div>
	</div>

<script>
    /*
		Задача: Сделать корректно работающее всплывающее окно.
		Условие: Узменять HTML разметку выше - нельзя.

		При нажании на одну из кнопок, должно открытся окно с соответствующим data- аттрибутом.
		При нажатии на кнопку close окно дожно закрываться.

		"Всплытие" popup происходит путем добавления класса show на элемент с id="popup" и на
		конкретное окно, которое вы хотиле показать.
    */

const MODULE_CLASS = 'button[data-popup]';
const ARR = '.popup__item';
const CLOSE_BTN = 'popup__close'
const POPUP_CONTAINER = 'popup__container';
const POPUP = 'popup';

const closePopap = document.getElementById(CLOSE_BTN);
const popup = document.getElementById(POPUP);
const popups = document.getElementById(POPUP_CONTAINER)
const modules = document.querySelectorAll(MODULE_CLASS);
const arr = document.querySelectorAll(ARR);
	
closePopap.onclick = function(){
	popup.classList.remove('show');
	let tab = popups.querySelector('.show');
	tab.classList.remove('show');
   }

modules.forEach( function( module ){
	module.onclick = function(){
		popup.classList.add('show');
		let numBtn = arr[module.dataset.popup - 1];
		numBtn.classList.add('show');
	}
});

</script>
</body>
</html>
