<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>ITEA JS Advanced. Lesson 3: Task 1</title>
    <link rel="stylesheet" href="css/normalize.css" />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <div class="wrap" id="wrap">
        <h1>Добавление списка элементов по условию</h1>

        <header>
          <input type="text" placeholder="" id="receiver"/>
          <input type="submit" value="Add" id="addToList"/>
        </header>

        <div>
          <div id="error"></div>
          <ul id="list"></ul>
        </div>

    </div>
    <script>
      /*
          Задание:

          Написать скрипт, который будет добавлять введенный в инпут Receiver текст
          в список list.
          Если в списке больше 5 записей, убирать Event с кнопки addToList.
          Кнопке addToList добавить disabled = true

          После каждого ввода очищать значение инпута

          Используемые методы:

          addEventListener
          removeEventListener

          document.getElementById
          document.createElement

          element.innerText
          element.setAttribute
          element.appendChild

          Получить значение инпута: receiver.value [receiver - это id]

      */

  document.addEventListener("DOMContentLoaded", function(event) {
    
      let ListCount = 0;
      const wrap = document.getElementById('wrap');
      const ul = document.getElementById('list');
      const add = document.getElementById('addToList');
      const inputText = document.getElementById('receiver');

      let addLi = function(event){
        if(ListCount === 5){
          add.removeEventListener('click', addLi, false)
          disabled = true;
        }else{
          let enter = inputText.value;
          let li = document.createElement('li');
          li.innerText = enter;
          ul.appendChild(li);
          inputText.value = '';
          ListCount++;
        }
      };
      add.addEventListener('click', addLi, false);  
    
  });
      
    </script>
  </body>


</html>
