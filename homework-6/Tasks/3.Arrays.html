<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Classwork</title>

  <script>
    document.addEventListener("DOMContentLoaded", function (event) {
      /*
        –ó–∞–¥–∞–Ω–∏–µ:
        1. –ü—Ä–∏ –ø–æ–º–æ—â–∏ –º–µ—Ç–æ–¥–æ–≤ —Ä–∞–∑–æ–±—Ä–∞–Ω—ã—Ö –Ω–∞ –∑–∞–Ω—è—Ç–∏–∏, –ø–µ—Ä–µ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å ITEA_COURSES –≤ –º–∞—Å—Å–∏–≤ –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–ª–∏–Ω—É —Å—Ç—Ä–æ–∫ –∫–∞–∂–¥–æ–≥–æ –∏–∑ —ç–ª–µ–º–µ–Ω—Ç–æ–≤.
        2. –ò—Å–ø–æ–ª—å–∑—É—è –º–µ—Ç–æ–¥ Array.sort. –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –º–∞—Å—Å–∏–≤ ITEA_COURSES –ø–æ –¥–ª–∏–Ω–µ —Å—Ç—Ä–æ–∫. –í—ã–≤–µ—Å—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–ø–∏—Å–∫–æ–º
        3. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–∏—Å–∫–∞ –ø–æ –º–∞—Å—Å–∏–≤—É ITEA_COURSES. –í—ã–≤–µ—Å—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–Ω–ø—É—Ç –∏ –∫–Ω–æ–ø–∫—É –ø–æ –∫–æ—Ç–æ—Ä–æ–π –±—É–¥–µ—Ç —Å—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–æ–∏—Å–∫.
      */

      const ITEA_COURSES = ["–ö—É—Ä—Å HTML & CSS", "JavaScript –±–∞–∑–æ–≤—ã–π –∫—É—Ä—Å", "JavaScript –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –∫—É—Ä—Å",
        "JavaScript Professional", "Angular 2.4 (–±–∞–∑–æ–≤—ã–π)", "Angular 2.4 (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π)", "React.js",
        "React Native", "Node.js", "Vue.js"
      ];

      const cursesLengs = ITEA_COURSES.map(curs => curs.length);
      // console.log("üöÄ ~ cursesLengs", cursesLengs)


      const newArr = ITEA_COURSES.sort(function (a, b) {
        return a.length - b.length;
      });

      const ul = document.createElement('ul')
      document.querySelector('body').appendChild(ul)

      newArr.forEach(element => {
        let li = document.createElement('li');
        ul.appendChild(li)
        li.innerHTML = element;
      });

      const input = document.createElement('input');
      input.type = 'text';
      document.querySelector('body').appendChild(input)
      const button = document.createElement('button');
      button.innerHTML = 'check';
      document.querySelector('body').appendChild(button);
      const span = document.createElement('span');
      span.style.paddingLeft = '10px';
      document.querySelector('body').appendChild(span);

      button.addEventListener('click', function () {
        let result = ITEA_COURSES.includes(input.value);
        span.innerHTML = input.value + ':' +' ' + result;
        input.value = '';
      })


      /*
        –ó–∞–¥–∞–Ω–∏–µ 2:
        –ù–∞–ø–∏—Å–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä –º–∞—Å—Å–∏–≤–∞ –ø–æ:
        –ê–∫—Ç–µ—Ä—É, –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

        –ë–æ–Ω—É—Å:
          –°–¥–µ–ª–∞—Ç—å –≥—Ä–∞—Ñ–∏—á–µ—Å–∫—É—é –æ–±–æ–ª–æ—á–∫—É –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º—ã:
          - –°–µ–ª–µ–∫—Ç —Å–æ —Å–ø–∏—Å–∫–æ–º –∞–∫—Ç–µ—Ä–æ–≤
          - –°–µ–ª–µ–∫—Ç –∏–ª–∏ –∏–Ω–ø—É—Ç —Å –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é
          - –†–µ–∑—É–ª—å—Ç–∞—Ç –≤ –≤–∏–¥–µ —Å–ø–∏—Å–∫–∞ —Ñ–∏–ª—å–º–æ–≤
        
          <select> <input type="number" name="duration" > <button> find </button>
      */

      var stars = ['Elijah Wood', 'Ian McKellen', 'Orlando Bloom', 'Ewan McGregor', ' Liam Neeson',
        'Natalie Portman', 'Ewan McGregor', 'Billy Bob Thornton', 'Martin Freeman'
      ];
      var movies = [{
          name: "Lord of the Rigs",
          duration: 240,
          starring: ['Elijah Wood', 'Ian McKellen', 'Orlando Bloom']
        },
        {
          name: "Star Wars: Episode I - The Phantom Menace",
          duration: 136,
          starring: ['Ewan McGregor', ' Liam Neeson', 'Natalie Portman']
        },
        {
          name: "Fargo",
          duration: 100,
          starring: ['Ewan McGregor', 'Billy Bob Thornton', 'Martin Freeman']
        },
        {
          name: "V for Vendetta",
          duration: 150,
          starring: ['Hugo Weaving', 'Natalie Portman', 'Rupert Graves']
        }
      ];

      const resultPlase = document.getElementById('result')
      const mySelection = document.getElementById('actors');

      const startOpt = new Option('–í—ã–±–µ—Ä–∏—Ç–µ –∞–∫—Ç–µ—Ä–∞', null, true, true);
      startOpt.disabled = true;
      mySelection.appendChild(startOpt);

      stars.forEach(function (item, index) {
        let selected = false;
        let defSelected = false;
        let opt = new Option(item, index, selected, defSelected);
        mySelection.appendChild(opt);
      });

      mySelection.addEventListener('change', function () {
        let result = [];
        movies.forEach(function (obj) {
          obj.starring.filter(function actor(a) {
            if (a === stars[mySelection.value]) {
              result.push(obj.name)
            }
          })
        })
        resultPlase.innerHTML = `–§–∏–ª—å–º—ã —Å —É—á–∞—Å—Ç–≤–∏–µ–º: ${result}`;
      });

      const resultDuration = document.getElementById('result_duration')
      const duration = document.getElementById('duration');
      const find = document.getElementById('find');

      find.addEventListener('click', function () {
        let result = [];
        movies.forEach(function (obj) {
          if (obj.duration <= +duration.value) {
            result.push(obj.name)
          }
        })
        if (result.length === 0) {
          result.push('–Ω–µ –Ω–∞–π–¥–µ–Ω–æ')
        }
        resultDuration.innerHTML = `–§–∏–ª—å–º—ã –Ω–∏–∂–µ –∑–∞–¥–∞–Ω–æ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏: ${result}`;
      })
    });
  </script>
</head>

<body>
  <select class="form__input select" id="actors"></select>
  <div id="result"></div>
  <input placeholder="Duration" type="number" id="duration" step="30" min="30" max="300">
  <button id="find"> find </button>
  <div id="result_duration"></div>
</body>

</html>